## 잡다한 것

- 엔티티 매니저 팩토리는 하나만 생성해서 애플리케이션 전체에서 공유

- 엔티티 매니저는 쓰레드간에 공유 x (사용하고 버려야 한다.)

- JPA의 모든 데이터 변경은 트랜잭션 안에서 실행

![](잡다한%20것_assets/2024-02-25-13-31-36-image.png)

- JPQL은 엔티티 객체를 대상으로 쿼리

- SQL은 데이터베이스 테이블을 대상으로 쿼리

- JPQL
  
  - 테이블이 아닌 객체를 대상으로 검색하는 객체 지향 쿼리
  
  - SQL을 추상화해서 특정 데이터베이스 SQL에 의존 x
  
  - JPQL을 한마디로 정의하면 객체 지향 SQL

- 영속성 컨텍스트의 이점
  
  - 1차 캐시
  
  - 동일성 보장
  
  - 트랜잭션을 지원하는 쓰기 지연
  
  - 변경 감지
  
  - 지연 로딩
  
  ![](잡다한%20것_assets/2024-02-25-15-41-35-image.png)

- 플러시란?
  
  - 영속성 컨텍스트의 변경 내용을 데이터베이스에 반영

- JPQL 쿼리 실행시 플러시가 자동으로 호출되는 이유
  ![](잡다한%20것_assets/2024-02-25-15-55-46-image.png)
  
  - memberA, memberB, memberC 를 못 조회함을 방지
  
  - 일부러 못 조회하도록 옵션을 건드릴 수 있기도 함.

- 데이터베이스 스키마 자동 생성 - 속성
  ![](잡다한%20것_assets/2024-02-25-17-19-32-image.png)

- 데이터베이스 스키마 자동 생성  - 주의
  ![](잡다한%20것_assets/2024-02-25-17-19-54-image.png)
- 양방향 연관관계와 연관관계의 주인(매우 중요!!!) - 김영한 JPA 기본 참고
  ![](잡다한%20것_assets/2024-02-26-20-20-19-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-20-30-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-20-40-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-20-54-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-21-03-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-21-11-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-21-20-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-45-24-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-45-36-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-59-35-image.png)
  ![](잡다한%20것_assets/2024-02-26-20-59-46-image.png)
