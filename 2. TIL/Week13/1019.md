# 1019 TIL

## 잡다한 것

## Django REST framework 2

### DRF with N:1 Relation

#### 사전준비

- Comment 모델 정의
  ![](1019_assets/2023-10-18-19-47-33-image.png)

- URL 및 HTTP request method 구성
  ![](1019_assets/2023-10-18-19-48-00-image.png)

#### GET

- GET-List
  ![](1019_assets/2023-10-18-19-48-27-image.png)
  ![](1019_assets/2023-10-18-19-48-34-image.png)
  ![](1019_assets/2023-10-18-19-48-43-image.png)
  ![](1019_assets/2023-10-18-19-48-52-image.png)

- GET-Detail
  ![](1019_assets/2023-10-18-19-49-08-image.png)
  ![](1019_assets/2023-10-18-19-49-15-image.png)

#### POST

- POST(1~4)

![](1019_assets/2023-10-18-19-49-30-image.png)
![](1019_assets/2023-10-18-19-49-38-image.png)
![](1019_assets/2023-10-18-19-49-46-image.png)
![](1019_assets/2023-10-18-19-49-56-image.png)

- 읽기 전용 필드
  ![](1019_assets/2023-10-18-19-50-18-image.png)

- POST(5)
  ![](1019_assets/2023-10-18-19-51-21-image.png)

#### DELETE & PUT

- DELETE & PUT

![](1019_assets/2023-10-18-19-51-48-image.png)
![](1019_assets/2023-10-18-19-51-55-image.png)
![](1019_assets/2023-10-18-19-52-03-image.png)

#### 응답 데이터 재구성

- 댓글 조회 시 게시글 출력 내역 변경
  ![](1019_assets/2023-10-18-19-52-55-image.png)
  ![](1019_assets/2023-10-18-19-53-04-image.png)
  ![](1019_assets/2023-10-18-19-53-11-image.png)

### 역참조 데이터 구성

- Article -> Comment 간 역참조 관계를 활용한 JSON 데이터 재구성
  ![](1019_assets/2023-10-18-19-53-51-image.png)

- 단일 게시글 + 댓글 목록
  ![](1019_assets/2023-10-18-19-54-10-image.png)
  ![](1019_assets/2023-10-18-19-54-19-image.png)

- 단일 게시글 + 댓글 개수
  ![](1019_assets/2023-10-18-19-54-37-image.png)
  ![](1019_assets/2023-10-18-19-54-50-image.png)
  ![](1019_assets/2023-10-18-19-54-59-image.png)

- [주의] 읽기 전용 필드 지정 이슈
  ![](1019_assets/2023-10-18-19-55-21-image.png)

### API 문서화

- OpenAPI Specification(OAS)
  
  - RESTful API를 설명하고 시각화하는 표준화된 방법
    
    - API에 대한 세부사항을 기술할 수 있는 공식 표준

![](1019_assets/2023-10-18-19-56-42-image.png)

- drf - spectacular 라이브러리
  ![](1019_assets/2023-10-18-19-57-26-image.png)
  ![](1019_assets/2023-10-18-19-57-35-image.png)
  ![](1019_assets/2023-10-18-19-57-44-image.png)
  ![](1019_assets/2023-10-18-19-57-51-image.png)
  ![](1019_assets/2023-10-18-19-57-59-image.png)

- OAS의 핵심 이점 - "설계 우선"접근법
  ![](1019_assets/2023-10-18-19-58-27-image.png)

#### 참고

<img src="1019_assets/2023-10-18-19-58-40-image.png" title="" alt="" width="438">

<img src="1019_assets/2023-10-18-19-58-50-image.png" title="" alt="" width="383">

![](1019_assets/2023-10-18-19-59-03-image.png)

<img src="1019_assets/2023-10-18-19-59-13-image.png" title="" alt="" width="419">

![](1019_assets/2023-10-18-19-59-23-image.png)

![](1019_assets/2023-10-18-19-59-34-image.png)

![](1019_assets/2023-10-18-19-59-42-image.png)
